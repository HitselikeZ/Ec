package de.hitselikez.cmds;

import de.hitselikez.main.Main;
import org.bukkit.Bukkit;
import org.bukkit.command.Command;
import org.bukkit.command.CommandExecutor;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;

public class Ec implements CommandExecutor {
    @Override
    public boolean onCommand(CommandSender sender, Command cmd, String string, String[] args) {

        Player p = (Player) sender;

        if (args.length == 0) {

            if (p.hasPermission("command.ec")) {

                p.openInventory(p.getEnderChest());
                p.sendMessage(Main.sys + "Deine Enderchest wurde geöffnet !");

            } else {

                p.sendMessage(Main.noperm);

            }
        } else if (args.length == 1) {

            Player t = (Player) Bukkit.getPlayer(args[0]);

            if (p.hasPermission("command.ec.other")) {

                p.openInventory(t.getEnderChest());
                p.sendMessage(Main.sys + "Du hast die Enechest von §6" + t.getName() + " §7geöffnet !");

            } else {

                p.sendMessage(Main.noperm);

            }

        } else {

            p.sendMessage(Main.sys + "Bitte nutze /Ec [PLayer]");

        }

        return false;
    }
}
